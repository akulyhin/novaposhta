{"version":3,"sources":["webpack:///./index.js"],"names":["workHost","cityForm","document","getElementById","city_autocomplete","warehouseForm","warehouse_autocomplete","addressForm","address_autocomplete","cityRef","addEventListener","e","value","target","innerText","innerHTML","classList","remove","getAttribute","debounce","length","axios","post","then","res","add","data","forEach","item","insertAdjacentHTML","Ref","DescriptionRu","StreetsType","Description"],"mappings":"8KAMMA,EAAW,8BAGXC,EAAWC,SAASC,eAAe,QACnCC,EAAoBF,SAASC,eAAe,qBAC5CE,EAAgBH,SAASC,eAAe,aACxCG,EAAyBJ,SAASC,eAAe,0BACjDI,EAAcL,SAASC,eAAe,WACtCK,EAAuBN,SAASC,eAAe,wBAEjDM,EAAU,GAEdH,EAAuBI,iBAAiB,SAAS,SAACC,GAC9CN,EAAcO,MAAQD,EAAEE,OAAOC,UAC/BR,EAAuBS,UAAY,GACnCT,EAAuBU,UAAUC,OAAO,aAG5CT,EAAqBE,iBAAiB,SAAS,SAACC,GAC5CJ,EAAYK,MAAQD,EAAEE,OAAOC,UAC7BN,EAAqBO,UAAY,GACjCP,EAAqBQ,UAAUC,OAAO,aAG1Cb,EAAkBM,iBAAiB,SAAS,SAACC,GACzCV,EAASW,MAAQD,EAAEE,OAAOC,UAC1BL,EAAUE,EAAEE,OAAOK,aAAa,WAChCd,EAAkBW,UAAY,GAC9BX,EAAkBY,UAAUC,OAAO,aAGvChB,EAASS,iBAAiB,QAASS,KAAS,SAACR,GAEpCA,EAAEE,OAAOD,MAAMQ,SAChBhB,EAAkBW,UAAY,GAC9BV,EAAcO,MAAQ,GACtBL,EAAYK,MAAQ,GACpBN,EAAuBS,UAAY,GACnCT,EAAuBU,UAAUC,OAAO,UACxCb,EAAkBY,UAAUC,OAAO,WAGnCN,EAAEE,OAAOD,MAAMQ,OAAS,GACxBC,IAAMC,KAAQtB,EAAd,4BAAmD,CAC/C,MAASW,EAAEE,OAAOD,QAErBW,MAAK,SAAAC,GACFpB,EAAkBW,UAAY,GAC9BX,EAAkBY,UAAUC,OAAO,UACnCb,EAAkBY,UAAUS,IAAI,UAChCD,EAAIE,KAAKA,KAAKC,SAAQ,SAAAC,GAClBxB,EAAkByB,mBAAmB,YAArC,gBAAkED,EAAKE,IAAvE,KAA+EF,EAAKG,cAApF,iBAKb,MAEH1B,EAAcK,iBAAiB,QAASS,KAAS,SAACR,GAC9CU,IAAMC,KAAQtB,EAAd,gCAAuD,CACnD,IAAOS,EACP,MAASE,EAAEE,OAAOD,QAErBW,MAAK,SAAAC,GACFlB,EAAuBS,UAAY,GACnCT,EAAuBU,UAAUS,IAAI,UACrCD,EAAIE,KAAKA,KAAKC,SAAQ,SAAAC,GAClBtB,EAAuBuB,mBAAmB,YAA1C,OAA8DD,EAAKG,cAAnE,iBAGT,MAIHxB,EAAYG,iBAAiB,QAASS,KAAS,SAACR,GAC5CU,IAAMC,KAAQtB,EAAd,6BAAoD,CAChD,IAAOS,EACP,MAASE,EAAEE,OAAOD,QAErBW,MAAK,SAAAC,GACFhB,EAAqBO,UAAY,GACjCP,EAAqBQ,UAAUS,IAAI,UACnCD,EAAIE,KAAKA,KAAKC,SAAQ,SAAAC,GAClBpB,EAAqBqB,mBAAmB,YAAxC,OAA4DD,EAAKI,YAAjE,IAAgFJ,EAAKK,YAArF,iBAGT,O","file":"main.48ee4b8e6ac114d015d8.js","sourcesContent":["import './sass/styles.scss';\r\nimport axios from 'axios';\r\nimport debounce from 'lodash.debounce';\r\n\r\n\r\nconst testHost = 'http://localhost:3031';\r\nconst workHost = 'https://ak-np.herokuapp.com';\r\nconst newServer = 'http://159.224.166.89';\r\n\r\nconst cityForm = document.getElementById('city');\r\nconst city_autocomplete = document.getElementById('city_autocomplete');\r\nconst warehouseForm = document.getElementById('warehouse');\r\nconst warehouse_autocomplete = document.getElementById('warehouse_autocomplete');\r\nconst addressForm = document.getElementById('address');\r\nconst address_autocomplete = document.getElementById('address_autocomplete');\r\n\r\nlet cityRef = '';\r\n\r\nwarehouse_autocomplete.addEventListener('click', (e) => {\r\n    warehouseForm.value = e.target.innerText;\r\n    warehouse_autocomplete.innerHTML = '';\r\n    warehouse_autocomplete.classList.remove('active');\r\n});\r\n\r\naddress_autocomplete.addEventListener('click', (e) => {\r\n    addressForm.value = e.target.innerText;\r\n    address_autocomplete.innerHTML = '';\r\n    address_autocomplete.classList.remove('active');\r\n});\r\n\r\ncity_autocomplete.addEventListener('click', (e) => {\r\n    cityForm.value = e.target.innerText;\r\n    cityRef = e.target.getAttribute('data-id');\r\n    city_autocomplete.innerHTML = '';\r\n    city_autocomplete.classList.remove('active');\r\n});\r\n\r\ncityForm.addEventListener('input', debounce((e) => {\r\n\r\n    if (!e.target.value.length) {\r\n        city_autocomplete.innerHTML = '';\r\n        warehouseForm.value = '';\r\n        addressForm.value = '';\r\n        warehouse_autocomplete.innerHTML = '';\r\n        warehouse_autocomplete.classList.remove('active');\r\n        city_autocomplete.classList.remove('active');\r\n    }\r\n\r\n    if (e.target.value.length > 2) {\r\n        axios.post(`${workHost}/api/novaposhta/getCities`, {\r\n            \"query\": e.target.value\r\n        })\r\n        .then(res => {\r\n            city_autocomplete.innerHTML = '';\r\n            city_autocomplete.classList.remove('active');\r\n            city_autocomplete.classList.add('active');\r\n            res.data.data.forEach(item => {\r\n                city_autocomplete.insertAdjacentHTML('beforeend', `<li data-id=\"${item.Ref}\">${item.DescriptionRu}</li>`) \r\n            })\r\n        });\r\n\r\n    }\r\n}, 200))\r\n\r\nwarehouseForm.addEventListener('input', debounce((e) => {\r\n    axios.post(`${workHost}/api/novaposhta/getWarehouses`, {\r\n        \"Ref\": cityRef,\r\n        \"query\": e.target.value\r\n    })\r\n    .then(res => {\r\n        warehouse_autocomplete.innerHTML = '';\r\n        warehouse_autocomplete.classList.add('active');\r\n        res.data.data.forEach(item => {\r\n            warehouse_autocomplete.insertAdjacentHTML('beforeend', `<li>${item.DescriptionRu}</li>`);\r\n        })\r\n    })\r\n}, 200))\r\n\r\n\r\n\r\naddressForm.addEventListener('input', debounce((e) => {\r\n    axios.post(`${workHost}/api/novaposhta/getAddress`, {\r\n        \"Ref\": cityRef,\r\n        \"query\": e.target.value\r\n    })\r\n    .then(res => {\r\n        address_autocomplete.innerHTML = '';\r\n        address_autocomplete.classList.add('active');\r\n        res.data.data.forEach(item => {\r\n            address_autocomplete.insertAdjacentHTML('beforeend', `<li>${item.StreetsType} ${item.Description}</li>`);\r\n        })\r\n    })\r\n}, 200))"],"sourceRoot":""}