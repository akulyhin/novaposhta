{"version":3,"sources":["webpack:///./index.js"],"names":["cityForm","document","getElementById","city_autocomplete","warehouseForm","warehouse_autocomplete","cityRef","addEventListener","e","value","target","innerText","innerHTML","classList","remove","getAttribute","debounce","length","axios","post","testHost","then","res","add","data","forEach","item","insertAdjacentHTML","Ref","DescriptionRu","console","log"],"mappings":"8KAQMA,EAAWC,SAASC,eAAe,QACnCC,EAAoBF,SAASC,eAAe,qBAC5CE,EAAgBH,SAASC,eAAe,aACxCG,EAAyBJ,SAASC,eAAe,0BAEnDI,EAAU,GAEdD,EAAuBE,iBAAiB,SAAS,SAACC,GAC9CJ,EAAcK,MAAQD,EAAEE,OAAOC,UAC/BN,EAAuBO,UAAY,GACnCP,EAAuBQ,UAAUC,OAAO,aAG5CX,EAAkBI,iBAAiB,SAAS,SAACC,GACzCR,EAASS,MAAQD,EAAEE,OAAOC,UAC1BL,EAAUE,EAAEE,OAAOK,aAAa,WAChCZ,EAAkBS,UAAY,GAC9BT,EAAkBU,UAAUC,OAAO,aAGvCd,EAASO,iBAAiB,QAASS,KAAS,SAACR,GAEpCA,EAAEE,OAAOD,MAAMQ,SAChBd,EAAkBS,UAAY,GAC9BT,EAAkBU,UAAUC,OAAO,WAGnCN,EAAEE,OAAOD,MAAMQ,OAAS,GACxBC,IAAMC,KAAQC,iDAAqC,CAC/C,MAASZ,EAAEE,OAAOD,QAErBY,MAAK,SAAAC,GACFnB,EAAkBS,UAAY,GAC9BT,EAAkBU,UAAUC,OAAO,UACnCX,EAAkBU,UAAUU,IAAI,UAChCD,EAAIE,KAAKA,KAAKC,SAAQ,SAAAC,GAClBvB,EAAkBwB,mBAAmB,YAArC,gBAAkED,EAAKE,IAAvE,KAA+EF,EAAKG,cAApF,iBAKb,MAEHzB,EAAcG,iBAAiB,QAASS,KAAS,SAACR,GAC9CU,IAAMC,KAAQC,qDAAyC,CACnD,IAAOd,EACP,MAASE,EAAEE,OAAOD,QAErBY,MAAK,SAAAC,GACFQ,QAAQC,IAAIT,EAAIE,KAAKA,MACrBnB,EAAuBO,UAAY,GACnCP,EAAuBQ,UAAUU,IAAI,UACrCD,EAAIE,KAAKA,KAAKC,SAAQ,SAAAC,GAClBrB,EAAuBsB,mBAAmB,YAA1C,OAA8DD,EAAKG,cAAnE,iBAGT,O","file":"main.fae4268c00c5b55c768f.js","sourcesContent":["import './sass/styles.scss';\r\nimport axios from 'axios';\r\nimport debounce from 'lodash.debounce';\r\n\r\n\r\nconst testHost = 'http://localhost:3031';\r\nconst workHost = 'https://ak-np.herokuapp.com';\r\n\r\nconst cityForm = document.getElementById('city');\r\nconst city_autocomplete = document.getElementById('city_autocomplete');\r\nconst warehouseForm = document.getElementById('warehouse');\r\nconst warehouse_autocomplete = document.getElementById('warehouse_autocomplete');\r\n\r\nlet cityRef = '';\r\n\r\nwarehouse_autocomplete.addEventListener('click', (e) => {\r\n    warehouseForm.value = e.target.innerText;\r\n    warehouse_autocomplete.innerHTML = '';\r\n    warehouse_autocomplete.classList.remove('active');\r\n});\r\n\r\ncity_autocomplete.addEventListener('click', (e) => {\r\n    cityForm.value = e.target.innerText;\r\n    cityRef = e.target.getAttribute('data-id');\r\n    city_autocomplete.innerHTML = '';\r\n    city_autocomplete.classList.remove('active');\r\n});\r\n\r\ncityForm.addEventListener('input', debounce((e) => {\r\n\r\n    if (!e.target.value.length) {\r\n        city_autocomplete.innerHTML = '';\r\n        city_autocomplete.classList.remove('active');\r\n    }\r\n\r\n    if (e.target.value.length > 2) {\r\n        axios.post(`${testHost}/api/novaposhta/getCities`, {\r\n            \"query\": e.target.value\r\n        })\r\n        .then(res => {\r\n            city_autocomplete.innerHTML = '';\r\n            city_autocomplete.classList.remove('active');\r\n            city_autocomplete.classList.add('active');\r\n            res.data.data.forEach(item => {\r\n                city_autocomplete.insertAdjacentHTML('beforeend', `<li data-id=\"${item.Ref}\">${item.DescriptionRu}</li>`) \r\n            })\r\n        });\r\n\r\n    }\r\n}, 300))\r\n\r\nwarehouseForm.addEventListener('input', debounce((e) => {\r\n    axios.post(`${testHost}/api/novaposhta/getWarehouses`, {\r\n        \"Ref\": cityRef,\r\n        \"query\": e.target.value\r\n    })\r\n    .then(res => {\r\n        console.log(res.data.data);\r\n        warehouse_autocomplete.innerHTML = '';\r\n        warehouse_autocomplete.classList.add('active');\r\n        res.data.data.forEach(item => {\r\n            warehouse_autocomplete.insertAdjacentHTML('beforeend', `<li>${item.DescriptionRu}</li>`);\r\n        })\r\n    })\r\n}, 300))"],"sourceRoot":""}